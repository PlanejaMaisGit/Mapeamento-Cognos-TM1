FORMAT==100
#Region System
FEEDSTRINGS;
SKIPCHECK;
UNDEFVALS;
#EndRegion

['Realizado']=N:DB('Despesas_Custos_Relatorio',!Centro de Custo,!Anoss,!Meses,'Realizado',!Plano de Contas BSC);

['Planejado']=N:DB('Despesas_Custos_Relatorio',!Centro de Custo,!Anoss,!Meses,'Orçamento',!Plano de Contas BSC);

#Region N-Regras de cálculo: Dimensão:Indicadores Financeiros
#Autogenerated CALC NUMERIC 496E64696361646F7265732046696E616E636569726F73
   #Region Dimensão:Indicadores Financeiros, Membro:Status
   #Autogenerated MEMBERCALC NUMERIC 5B496E64696361646F7265732046696E616E636569726F735D2E5B5374617475735D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Status'}]=N:IF(ISUNDEFINEDCELLVALUE(['Indicadores Financeiros':'Score'])=1,
   UNDEFINEDCELLVALUE,
   IF(['Indicadores Financeiros':'Score']>=0,
   1,
   IF(['Indicadores Financeiros':'Score']>=0-1,
   0,
   -1)));
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Trend
   #Autogenerated MEMBERCALC NUMERIC 5B496E64696361646F7265732046696E616E636569726F735D2E5B5472656E645D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Trend'}]=N:IF(ISUNDEFINEDCELLVALUE(['Indicadores Financeiros':'Score'])=1%ISUNDEFINEDCELLVALUE(IF(ATTRS('Anoss', !Anoss, 'previousperiod')@='',
   UNDEFINEDCELLVALUE,
   DB('Despesas BSC', !Meses, !Centro de Custo, ATTRS('Anoss', !Anoss, 'previousperiod'), !Plano de Contas BSC, 'Score')))=1,
   UNDEFINEDCELLVALUE,
   IF(ABS(['Indicadores Financeiros':'Score']-IF(ATTRS('Anoss', !Anoss, 'previousperiod')@='',
   UNDEFINEDCELLVALUE,
   DB('Despesas BSC', !Meses, !Centro de Custo, ATTRS('Anoss', !Anoss, 'previousperiod'), !Plano de Contas BSC, 'Score')))>1*0.05,
   SIGN(['Indicadores Financeiros':'Score']-IF(ATTRS('Anoss', !Anoss, 'previousperiod')@='',
   UNDEFINEDCELLVALUE,
   DB('Despesas BSC', !Meses, !Centro de Custo, ATTRS('Anoss', !Anoss, 'previousperiod'), !Plano de Contas BSC, 'Score'))),
   0));
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Tolerance
   #Autogenerated MEMBERCALC NUMERIC 5B496E64696361646F7265732046696E616E636569726F735D2E5B546F6C6572616E63655D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Tolerance'}]=N:STET;
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Variance
   #Autogenerated MEMBERCALC NUMERIC 5B496E64696361646F7265732046696E616E636569726F735D2E5B56617269616E63655D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Variance'}]=N:['Indicadores Financeiros':'Actual']-['Indicadores Financeiros':'Target'];
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Variance Percent
   #Autogenerated MEMBERCALC NUMERIC 5B496E64696361646F7265732046696E616E636569726F735D2E5B56617269616E63652050657263656E745D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Variance Percent'}]=N:(['Indicadores Financeiros':'Actual']-['Indicadores Financeiros':'Target'])\['Indicadores Financeiros':'Target'];
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Score
   #Autogenerated MEMBERCALC NUMERIC 5B496E64696361646F7265732046696E616E636569726F735D2E5B53636F72655D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Score'}]=N:IF(ISUNDEFINEDCELLVALUE(['Indicadores Financeiros':'Target'])=1%ISUNDEFINEDCELLVALUE(['Indicadores Financeiros':'Actual'])=1,
   UNDEFINEDCELLVALUE,
   IF(IF(ATTRN('Plano de Contas BSC', !Plano de Contas BSC, 'tolerancetype')=1,
   ['Indicadores Financeiros':'Tolerance'],
   ['Indicadores Financeiros':'Tolerance']*['Indicadores Financeiros':'Target'])<>0,
   MAX(MIN(ROUNDP(0+IF(ATTRN('Plano de Contas BSC', !Plano de Contas BSC, 'performancepattern')=1,
   ABS(['Indicadores Financeiros':'Actual']-['Indicadores Financeiros':'Target']),
   ['Indicadores Financeiros':'Actual']-['Indicadores Financeiros':'Target'])\ABS(IF(ATTRN('Plano de Contas BSC', !Plano de Contas BSC, 'tolerancetype')=1,
   ['Indicadores Financeiros':'Tolerance'],
   ['Indicadores Financeiros':'Tolerance']*['Indicadores Financeiros':'Target']))*1*IF(ATTRN('Plano de Contas BSC', !Plano de Contas BSC, 'performancepattern')=0,
   1,
   -1)+IF(ATTRN('Plano de Contas BSC', !Plano de Contas BSC, 'performancepattern')=1,
   0.5*1,
   0),5), 10), -10),
   IF(['Indicadores Financeiros':'Actual']=['Indicadores Financeiros':'Target'],
   0,
   IF(ATTRN('Plano de Contas BSC', !Plano de Contas BSC, 'performancepattern')=1  % SIGN(['Indicadores Financeiros':'Actual']-['Indicadores Financeiros':'Target']) * IF(ATTRN('Plano de Contas BSC', !Plano de Contas BSC, 'performancepattern')=0,
   1,
   -1) <0,
   -10,
   10))));
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Score Change
   #Autogenerated MEMBERCALC NUMERIC 5B496E64696361646F7265732046696E616E636569726F735D2E5B53636F7265204368616E67655D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Score Change'}]=N:IF(((ISUNDEFINEDCELLVALUE(['Indicadores Financeiros':'Score']))=1)%((ISUNDEFINEDCELLVALUE(IF(ATTRS('Anoss', !Anoss, 'previousperiod')@='',
   ['Indicadores Financeiros':'Trend'],
   DB('Despesas BSC', !Meses, !Centro de Custo, ATTRS('Anoss', !Anoss, 'previousperiod'), !Plano de Contas BSC, 'Score'))))=1),UNDEFINEDCELLVALUE,IF((ATTRS('Anoss', !Anoss, 'previousperiod')@<>''),
   DB('Despesas BSC', !Meses, !Centro de Custo, !Anoss, !Plano de Contas BSC, 'Score')-DB('Despesas BSC', !Meses, !Centro de Custo, ATTRS('Anoss', !Anoss, 'previousperiod'), !Plano de Contas BSC, 'Score'),
   CONTINUE));
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Actual Change Percent
   #Autogenerated MEMBERCALC NUMERIC 5B496E64696361646F7265732046696E616E636569726F735D2E5B41637475616C204368616E67652050657263656E745D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Actual Change Percent'}]=N:IF(((ISUNDEFINEDCELLVALUE(['Indicadores Financeiros':'Actual']))=1)%((ISUNDEFINEDCELLVALUE(IF(ATTRS('Anoss', !Anoss, 'previousperiod')@='',
   ['Indicadores Financeiros':'Trend'],
   DB('Despesas BSC', !Meses, !Centro de Custo, ATTRS('Anoss', !Anoss, 'previousperiod'), !Plano de Contas BSC, 'Actual'))))=1),UNDEFINEDCELLVALUE,(((DB('Despesas BSC', !Meses, !Centro de Custo, !Anoss, !Plano de Contas BSC, 'Actual')-DB('Despesas BSC', !Meses, !Centro de Custo, ATTRS('Anoss', !Anoss, 'previousperiod'), !Plano de Contas BSC, 'Actual'))\DB('Despesas BSC', !Meses, !Centro de Custo, ATTRS('Anoss', !Anoss, 'previousperiod'), !Plano de Contas BSC, 'Actual'))*100)\100);
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Status_1_Count
   #Autogenerated MEMBERCALC NUMERIC 5B496E64696361646F7265732046696E616E636569726F735D2E5B5374617475735F315F436F756E745D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Status_1_Count'}]=N:IF(['Indicadores Financeiros':'Status']=1,1,0);
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Status_0_Count
   #Autogenerated MEMBERCALC NUMERIC 5B496E64696361646F7265732046696E616E636569726F735D2E5B5374617475735F305F436F756E745D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Status_0_Count'}]=N:IF((['Indicadores Financeiros':'Status']=0)&((ISUNDEFINEDCELLVALUE(['Indicadores Financeiros':'Status']))=0),1,0);
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Status_-1_Count
   #Autogenerated MEMBERCALC NUMERIC 5B496E64696361646F7265732046696E616E636569726F735D2E5B5374617475735F2D315F436F756E745D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Status_-1_Count'}]=N:IF(['Indicadores Financeiros':'Status']=(-1),1,0);
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Status_Incomplete_Count
   #Autogenerated MEMBERCALC NUMERIC 5B496E64696361646F7265732046696E616E636569726F735D2E5B5374617475735F496E636F6D706C6574655F436F756E745D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Status_Incomplete_Count'}]=N:IF((ISUNDEFINEDCELLVALUE(['Indicadores Financeiros':'Status']))=1,1,0);
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Lucra_Score
   #Autogenerated MEMBERCALC NUMERIC 5B496E64696361646F7265732046696E616E636569726F735D2E5B4C756372615F53636F72655D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Lucra_Score'}]=N:IF(ISUNDEFINEDCELLVALUE(['Indicadores Financeiros':'Target'])=1%ISUNDEFINEDCELLVALUE(['Indicadores Financeiros':'Actual'])=1,
   UNDEFINEDCELLVALUE,
   IF(IF(ATTRN('Plano de Contas BSC', !Plano de Contas BSC, 'tolerancetype')=1,
   ['Indicadores Financeiros':'Tolerance'],
   ['Indicadores Financeiros':'Tolerance']*['Indicadores Financeiros':'Target'])<>0,
   MAX(MIN(ROUNDP(0+IF(ATTRN('Plano de Contas BSC', !Plano de Contas BSC, 'performancepattern')=1,
   ABS(['Indicadores Financeiros':'Actual']-['Indicadores Financeiros':'Target']),
   ['Indicadores Financeiros':'Actual']-['Indicadores Financeiros':'Target'])\ABS(IF(ATTRN('Plano de Contas BSC', !Plano de Contas BSC, 'tolerancetype')=1,
   ['Indicadores Financeiros':'Tolerance'],
   ['Indicadores Financeiros':'Tolerance']*['Indicadores Financeiros':'Target']))*1*IF(ATTRN('Plano de Contas BSC', !Plano de Contas BSC, 'performancepattern')=0,
   1,
   -1)+IF(ATTRN('Plano de Contas BSC', !Plano de Contas BSC, 'performancepattern')=1,
   0.5*1,
   0),5), 10), -10),
   IF(['Indicadores Financeiros':'Actual']=['Indicadores Financeiros':'Target'],
   0,
   IF(ATTRN('Plano de Contas BSC', !Plano de Contas BSC, 'performancepattern')=1  % SIGN(['Indicadores Financeiros':'Actual']-['Indicadores Financeiros':'Target']) * IF(ATTRN('Plano de Contas BSC', !Plano de Contas BSC, 'performancepattern')=0,
   1,
   -1) <0,
   -10,
   10))));
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Lucra_Variance
   #Autogenerated MEMBERCALC NUMERIC 5B496E64696361646F7265732046696E616E636569726F735D2E5B4C756372615F56617269616E63655D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Lucra_Variance'}]=N:['Indicadores Financeiros':'Actual']-['Indicadores Financeiros':'Target'];
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Lucra_Variance_Percent
   #Autogenerated MEMBERCALC NUMERIC 5B496E64696361646F7265732046696E616E636569726F735D2E5B4C756372615F56617269616E63655F50657263656E745D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Lucra_Variance_Percent'}]=N:(['Indicadores Financeiros':'Actual']-['Indicadores Financeiros':'Target'])\['Indicadores Financeiros':'Target'];
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Lucra_Status_1_Count
   #Autogenerated MEMBERCALC NUMERIC 5B496E64696361646F7265732046696E616E636569726F735D2E5B4C756372615F5374617475735F315F436F756E745D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Lucra_Status_1_Count'}]=N:IF(['Indicadores Financeiros':'Perdendo; Aumentando']=1,1,0);
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Lucra_Status_0_Count
   #Autogenerated MEMBERCALC NUMERIC 5B496E64696361646F7265732046696E616E636569726F735D2E5B4C756372615F5374617475735F305F436F756E745D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Lucra_Status_0_Count'}]=N:IF((['Indicadores Financeiros':'Perdendo; Aumentando']=0)&((ISUNDEFINEDCELLVALUE(['Indicadores Financeiros':'Perdendo; Aumentando']))=0),1,0);
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Lucra_Status_-1_Count
   #Autogenerated MEMBERCALC NUMERIC 5B496E64696361646F7265732046696E616E636569726F735D2E5B4C756372615F5374617475735F2D315F436F756E745D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Lucra_Status_-1_Count'}]=N:IF(['Indicadores Financeiros':'Perdendo; Aumentando']=(-1),1,0);
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Lucra_Status_Incomplete_Count
   #Autogenerated MEMBERCALC NUMERIC 5B496E64696361646F7265732046696E616E636569726F735D2E5B4C756372615F5374617475735F496E636F6D706C6574655F436F756E745D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Lucra_Status_Incomplete_Count'}]=N:IF((ISUNDEFINEDCELLVALUE(['Indicadores Financeiros':'Perdendo; Aumentando']))=1,1,0);
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Perdendo; Aumentando
   #Autogenerated MEMBERCALC NUMERIC 5B496E64696361646F7265732046696E616E636569726F735D2E5B50657264656E646F3B2041756D656E74616E646F5D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Perdendo; Aumentando'}]=N:IF(ISUNDEFINEDCELLVALUE(['Indicadores Financeiros':'Lucra_Score'])=1,
   UNDEFINEDCELLVALUE,
   IF(['Indicadores Financeiros':'Lucra_Score']>=0,
   1,
   IF(['Indicadores Financeiros':'Lucra_Score']>=0-1,
   0,
   -1)));
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Tendencia
   #Autogenerated MEMBERCALC NUMERIC 5B496E64696361646F7265732046696E616E636569726F735D2E5B54656E64656E6369615D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Tendencia'}]=N:IF(ISUNDEFINEDCELLVALUE(['Indicadores Financeiros':'Lucra_Score'])=1%ISUNDEFINEDCELLVALUE(IF(ATTRS('Anoss', !Anoss, 'previousperiod')@='',
   UNDEFINEDCELLVALUE,
   DB('Despesas BSC', !Meses, !Centro de Custo, ATTRS('Anoss', !Anoss, 'previousperiod'), !Plano de Contas BSC, 'Lucra_Score')))=1,
   UNDEFINEDCELLVALUE,
   IF(ABS(['Indicadores Financeiros':'Lucra_Score']-IF(ATTRS('Anoss', !Anoss, 'previousperiod')@='',
   UNDEFINEDCELLVALUE,
   DB('Despesas BSC', !Meses, !Centro de Custo, ATTRS('Anoss', !Anoss, 'previousperiod'), !Plano de Contas BSC, 'Lucra_Score')))>1*0.05,
   SIGN(['Indicadores Financeiros':'Lucra_Score']-IF(ATTRS('Anoss', !Anoss, 'previousperiod')@='',
   UNDEFINEDCELLVALUE,
   DB('Despesas BSC', !Meses, !Centro de Custo, ATTRS('Anoss', !Anoss, 'previousperiod'), !Plano de Contas BSC, 'Lucra_Score'))),
   0));
   #EndRegion
#EndRegion

#Region C-Regras de cálculo: Dimensão:Indicadores Financeiros
#Autogenerated CALC CONSOLIDATED 496E64696361646F7265732046696E616E636569726F73
   #Region Dimensão:Indicadores Financeiros, Membro:Status
   #Autogenerated MEMBERCALC CONSOLIDATED 5B496E64696361646F7265732046696E616E636569726F735D2E5B5374617475735D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Status'}]=C:IF(ISUNDEFINEDCELLVALUE(['Indicadores Financeiros':'Score'])=1,
   UNDEFINEDCELLVALUE,
   IF(['Indicadores Financeiros':'Score']>=0,
   1,
   IF(['Indicadores Financeiros':'Score']>=0-1,
   0,
   -1)));
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Trend
   #Autogenerated MEMBERCALC CONSOLIDATED 5B496E64696361646F7265732046696E616E636569726F735D2E5B5472656E645D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Trend'}]=C:IF(ISUNDEFINEDCELLVALUE(['Indicadores Financeiros':'Score'])=1%ISUNDEFINEDCELLVALUE(IF(ATTRS('Anoss', !Anoss, 'previousperiod')@='',
   UNDEFINEDCELLVALUE,
   DB('Despesas BSC', !Meses, !Centro de Custo, ATTRS('Anoss', !Anoss, 'previousperiod'), !Plano de Contas BSC, 'Score')))=1,
   UNDEFINEDCELLVALUE,
   IF(ABS(['Indicadores Financeiros':'Score']-IF(ATTRS('Anoss', !Anoss, 'previousperiod')@='',
   UNDEFINEDCELLVALUE,
   DB('Despesas BSC', !Meses, !Centro de Custo, ATTRS('Anoss', !Anoss, 'previousperiod'), !Plano de Contas BSC, 'Score')))>1*0.05,
   SIGN(['Indicadores Financeiros':'Score']-IF(ATTRS('Anoss', !Anoss, 'previousperiod')@='',
   UNDEFINEDCELLVALUE,
   DB('Despesas BSC', !Meses, !Centro de Custo, ATTRS('Anoss', !Anoss, 'previousperiod'), !Plano de Contas BSC, 'Score'))),
   0));
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Tolerance
   #Autogenerated MEMBERCALC CONSOLIDATED 5B496E64696361646F7265732046696E616E636569726F735D2E5B546F6C6572616E63655D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Tolerance'}]=C:ConsolidatedAvg(3, '', !Meses, !Centro de Custo, !Anoss, !Plano de Contas BSC, !Indicadores Financeiros);
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Variance
   #Autogenerated MEMBERCALC CONSOLIDATED 5B496E64696361646F7265732046696E616E636569726F735D2E5B56617269616E63655D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Variance'}]=C:['Indicadores Financeiros':'Actual']-['Indicadores Financeiros':'Target'];
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Variance Percent
   #Autogenerated MEMBERCALC CONSOLIDATED 5B496E64696361646F7265732046696E616E636569726F735D2E5B56617269616E63652050657263656E745D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Variance Percent'}]=C:(['Indicadores Financeiros':'Actual']-['Indicadores Financeiros':'Target'])\['Indicadores Financeiros':'Target'];
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Score
   #Autogenerated MEMBERCALC CONSOLIDATED 5B496E64696361646F7265732046696E616E636569726F735D2E5B53636F72655D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Score'}]=C:IF(ISUNDEFINEDCELLVALUE(['Indicadores Financeiros':'Target'])=1%ISUNDEFINEDCELLVALUE(['Indicadores Financeiros':'Actual'])=1,
   UNDEFINEDCELLVALUE,
   IF(IF(ATTRN('Plano de Contas BSC', !Plano de Contas BSC, 'tolerancetype')=1,
   ['Indicadores Financeiros':'Tolerance'],
   ['Indicadores Financeiros':'Tolerance']*['Indicadores Financeiros':'Target'])<>0,
   MAX(MIN(ROUNDP(0+IF(ATTRN('Plano de Contas BSC', !Plano de Contas BSC, 'performancepattern')=1,
   ABS(['Indicadores Financeiros':'Actual']-['Indicadores Financeiros':'Target']),
   ['Indicadores Financeiros':'Actual']-['Indicadores Financeiros':'Target'])\ABS(IF(ATTRN('Plano de Contas BSC', !Plano de Contas BSC, 'tolerancetype')=1,
   ['Indicadores Financeiros':'Tolerance'],
   ['Indicadores Financeiros':'Tolerance']*['Indicadores Financeiros':'Target']))*1*IF(ATTRN('Plano de Contas BSC', !Plano de Contas BSC, 'performancepattern')=0,
   1,
   -1)+IF(ATTRN('Plano de Contas BSC', !Plano de Contas BSC, 'performancepattern')=1,
   0.5*1,
   0),5), 10), -10),
   IF(['Indicadores Financeiros':'Actual']=['Indicadores Financeiros':'Target'],
   0,
   IF(ATTRN('Plano de Contas BSC', !Plano de Contas BSC, 'performancepattern')=1  % SIGN(['Indicadores Financeiros':'Actual']-['Indicadores Financeiros':'Target']) * IF(ATTRN('Plano de Contas BSC', !Plano de Contas BSC, 'performancepattern')=0,
   1,
   -1) <0,
   -10,
   10))));
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Score Change
   #Autogenerated MEMBERCALC CONSOLIDATED 5B496E64696361646F7265732046696E616E636569726F735D2E5B53636F7265204368616E67655D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Score Change'}]=C:IF(((ISUNDEFINEDCELLVALUE(['Indicadores Financeiros':'Score']))=1)%((ISUNDEFINEDCELLVALUE(IF(ATTRS('Anoss', !Anoss, 'previousperiod')@='',
   ['Indicadores Financeiros':'Trend'],
   DB('Despesas BSC', !Meses, !Centro de Custo, ATTRS('Anoss', !Anoss, 'previousperiod'), !Plano de Contas BSC, 'Score'))))=1),UNDEFINEDCELLVALUE,IF((ATTRS('Anoss', !Anoss, 'previousperiod')@<>''),
   DB('Despesas BSC', !Meses, !Centro de Custo, !Anoss, !Plano de Contas BSC, 'Score')-DB('Despesas BSC', !Meses, !Centro de Custo, ATTRS('Anoss', !Anoss, 'previousperiod'), !Plano de Contas BSC, 'Score'),
   CONTINUE));
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Actual Change Percent
   #Autogenerated MEMBERCALC CONSOLIDATED 5B496E64696361646F7265732046696E616E636569726F735D2E5B41637475616C204368616E67652050657263656E745D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Actual Change Percent'}]=C:IF(((ISUNDEFINEDCELLVALUE(['Indicadores Financeiros':'Actual']))=1)%((ISUNDEFINEDCELLVALUE(IF(ATTRS('Anoss', !Anoss, 'previousperiod')@='',
   ['Indicadores Financeiros':'Trend'],
   DB('Despesas BSC', !Meses, !Centro de Custo, ATTRS('Anoss', !Anoss, 'previousperiod'), !Plano de Contas BSC, 'Actual'))))=1),UNDEFINEDCELLVALUE,(((DB('Despesas BSC', !Meses, !Centro de Custo, !Anoss, !Plano de Contas BSC, 'Actual')-DB('Despesas BSC', !Meses, !Centro de Custo, ATTRS('Anoss', !Anoss, 'previousperiod'), !Plano de Contas BSC, 'Actual'))\DB('Despesas BSC', !Meses, !Centro de Custo, ATTRS('Anoss', !Anoss, 'previousperiod'), !Plano de Contas BSC, 'Actual'))*100)\100);
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Status_1_Count
   #Autogenerated MEMBERCALC CONSOLIDATED 5B496E64696361646F7265732046696E616E636569726F735D2E5B5374617475735F315F436F756E745D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Status_1_Count'}]=C:IF(['Indicadores Financeiros':'Status']=1,1,0);
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Status_0_Count
   #Autogenerated MEMBERCALC CONSOLIDATED 5B496E64696361646F7265732046696E616E636569726F735D2E5B5374617475735F305F436F756E745D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Status_0_Count'}]=C:IF((['Indicadores Financeiros':'Status']=0)&((ISUNDEFINEDCELLVALUE(['Indicadores Financeiros':'Status']))=0),1,0);
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Status_-1_Count
   #Autogenerated MEMBERCALC CONSOLIDATED 5B496E64696361646F7265732046696E616E636569726F735D2E5B5374617475735F2D315F436F756E745D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Status_-1_Count'}]=C:IF(['Indicadores Financeiros':'Status']=(-1),1,0);
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Status_Incomplete_Count
   #Autogenerated MEMBERCALC CONSOLIDATED 5B496E64696361646F7265732046696E616E636569726F735D2E5B5374617475735F496E636F6D706C6574655F436F756E745D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Status_Incomplete_Count'}]=C:IF((ISUNDEFINEDCELLVALUE(['Indicadores Financeiros':'Status']))=1,1,0);
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Lucra_Score
   #Autogenerated MEMBERCALC CONSOLIDATED 5B496E64696361646F7265732046696E616E636569726F735D2E5B4C756372615F53636F72655D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Lucra_Score'}]=C:IF(ISUNDEFINEDCELLVALUE(['Indicadores Financeiros':'Target'])=1%ISUNDEFINEDCELLVALUE(['Indicadores Financeiros':'Actual'])=1,
   UNDEFINEDCELLVALUE,
   IF(IF(ATTRN('Plano de Contas BSC', !Plano de Contas BSC, 'tolerancetype')=1,
   ['Indicadores Financeiros':'Tolerance'],
   ['Indicadores Financeiros':'Tolerance']*['Indicadores Financeiros':'Target'])<>0,
   MAX(MIN(ROUNDP(0+IF(ATTRN('Plano de Contas BSC', !Plano de Contas BSC, 'performancepattern')=1,
   ABS(['Indicadores Financeiros':'Actual']-['Indicadores Financeiros':'Target']),
   ['Indicadores Financeiros':'Actual']-['Indicadores Financeiros':'Target'])\ABS(IF(ATTRN('Plano de Contas BSC', !Plano de Contas BSC, 'tolerancetype')=1,
   ['Indicadores Financeiros':'Tolerance'],
   ['Indicadores Financeiros':'Tolerance']*['Indicadores Financeiros':'Target']))*1*IF(ATTRN('Plano de Contas BSC', !Plano de Contas BSC, 'performancepattern')=0,
   1,
   -1)+IF(ATTRN('Plano de Contas BSC', !Plano de Contas BSC, 'performancepattern')=1,
   0.5*1,
   0),5), 10), -10),
   IF(['Indicadores Financeiros':'Actual']=['Indicadores Financeiros':'Target'],
   0,
   IF(ATTRN('Plano de Contas BSC', !Plano de Contas BSC, 'performancepattern')=1  % SIGN(['Indicadores Financeiros':'Actual']-['Indicadores Financeiros':'Target']) * IF(ATTRN('Plano de Contas BSC', !Plano de Contas BSC, 'performancepattern')=0,
   1,
   -1) <0,
   -10,
   10))));
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Lucra_Variance
   #Autogenerated MEMBERCALC CONSOLIDATED 5B496E64696361646F7265732046696E616E636569726F735D2E5B4C756372615F56617269616E63655D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Lucra_Variance'}]=C:['Indicadores Financeiros':'Actual']-['Indicadores Financeiros':'Target'];
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Lucra_Variance_Percent
   #Autogenerated MEMBERCALC CONSOLIDATED 5B496E64696361646F7265732046696E616E636569726F735D2E5B4C756372615F56617269616E63655F50657263656E745D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Lucra_Variance_Percent'}]=C:(['Indicadores Financeiros':'Actual']-['Indicadores Financeiros':'Target'])\['Indicadores Financeiros':'Target'];
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Lucra_Status_1_Count
   #Autogenerated MEMBERCALC CONSOLIDATED 5B496E64696361646F7265732046696E616E636569726F735D2E5B4C756372615F5374617475735F315F436F756E745D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Lucra_Status_1_Count'}]=C:IF(['Indicadores Financeiros':'Perdendo; Aumentando']=1,1,0);
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Lucra_Status_0_Count
   #Autogenerated MEMBERCALC CONSOLIDATED 5B496E64696361646F7265732046696E616E636569726F735D2E5B4C756372615F5374617475735F305F436F756E745D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Lucra_Status_0_Count'}]=C:IF((['Indicadores Financeiros':'Perdendo; Aumentando']=0)&((ISUNDEFINEDCELLVALUE(['Indicadores Financeiros':'Perdendo; Aumentando']))=0),1,0);
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Lucra_Status_-1_Count
   #Autogenerated MEMBERCALC CONSOLIDATED 5B496E64696361646F7265732046696E616E636569726F735D2E5B4C756372615F5374617475735F2D315F436F756E745D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Lucra_Status_-1_Count'}]=C:IF(['Indicadores Financeiros':'Perdendo; Aumentando']=(-1),1,0);
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Lucra_Status_Incomplete_Count
   #Autogenerated MEMBERCALC CONSOLIDATED 5B496E64696361646F7265732046696E616E636569726F735D2E5B4C756372615F5374617475735F496E636F6D706C6574655F436F756E745D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Lucra_Status_Incomplete_Count'}]=C:IF((ISUNDEFINEDCELLVALUE(['Indicadores Financeiros':'Perdendo; Aumentando']))=1,1,0);
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Perdendo; Aumentando
   #Autogenerated MEMBERCALC CONSOLIDATED 5B496E64696361646F7265732046696E616E636569726F735D2E5B50657264656E646F3B2041756D656E74616E646F5D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Perdendo; Aumentando'}]=C:IF(ISUNDEFINEDCELLVALUE(['Indicadores Financeiros':'Lucra_Score'])=1,
   UNDEFINEDCELLVALUE,
   IF(['Indicadores Financeiros':'Lucra_Score']>=0,
   1,
   IF(['Indicadores Financeiros':'Lucra_Score']>=0-1,
   0,
   -1)));
   #EndRegion
   #Region Dimensão:Indicadores Financeiros, Membro:Tendencia
   #Autogenerated MEMBERCALC CONSOLIDATED 5B496E64696361646F7265732046696E616E636569726F735D2E5B54656E64656E6369615D
   #@AutoGenerated
   ['Indicadores Financeiros':{'Tendencia'}]=C:IF(ISUNDEFINEDCELLVALUE(['Indicadores Financeiros':'Lucra_Score'])=1%ISUNDEFINEDCELLVALUE(IF(ATTRS('Anoss', !Anoss, 'previousperiod')@='',
   UNDEFINEDCELLVALUE,
   DB('Despesas BSC', !Meses, !Centro de Custo, ATTRS('Anoss', !Anoss, 'previousperiod'), !Plano de Contas BSC, 'Lucra_Score')))=1,
   UNDEFINEDCELLVALUE,
   IF(ABS(['Indicadores Financeiros':'Lucra_Score']-IF(ATTRS('Anoss', !Anoss, 'previousperiod')@='',
   UNDEFINEDCELLVALUE,
   DB('Despesas BSC', !Meses, !Centro de Custo, ATTRS('Anoss', !Anoss, 'previousperiod'), !Plano de Contas BSC, 'Lucra_Score')))>1*0.05,
   SIGN(['Indicadores Financeiros':'Lucra_Score']-IF(ATTRS('Anoss', !Anoss, 'previousperiod')@='',
   UNDEFINEDCELLVALUE,
   DB('Despesas BSC', !Meses, !Centro de Custo, ATTRS('Anoss', !Anoss, 'previousperiod'), !Plano de Contas BSC, 'Lucra_Score'))),
   0));
   #EndRegion
#EndRegion

FEEDERS;
#Region Alimentadores gerados automaticamente
#Autogenerated AUTOFEEDERS
['Indicadores Financeiros':'Score'] => ['Indicadores Financeiros':'Score Change'];
['Indicadores Financeiros':'Target'] => ['Indicadores Financeiros':'Variance Percent'];
['Indicadores Financeiros':'Actual'] => ['Indicadores Financeiros':'Actual Change Percent'];
['Indicadores Financeiros':'Perdendo; Aumentando'] => ['Indicadores Financeiros':'Lucra_Status_1_Count'];
['Indicadores Financeiros':'Target'] => ['Indicadores Financeiros':'Lucra_Variance_Percent'];
['Indicadores Financeiros':'Lucra_Score'] => ['Indicadores Financeiros':'Perdendo; Aumentando'];
['Indicadores Financeiros':'Perdendo; Aumentando'] => ['Indicadores Financeiros':'Lucra_Status_0_Count'];
['Indicadores Financeiros':'Actual'] => ['Indicadores Financeiros':'Lucra_Score'];
['Indicadores Financeiros':{'Actual', 'Target'}] => ['Indicadores Financeiros':'Lucra_Variance'];
['Indicadores Financeiros':'Perdendo; Aumentando'] => ['Indicadores Financeiros':'Lucra_Status_-1_Count'];
['Indicadores Financeiros':'Status'] => ['Indicadores Financeiros':'Status_1_Count'];
['Indicadores Financeiros':'Lucra_Score'] => ['Indicadores Financeiros':'Tendencia'];
['Indicadores Financeiros':'Status'] => ['Indicadores Financeiros':'Status_-1_Count'];
['Indicadores Financeiros':'Status'] => ['Indicadores Financeiros':'Status_0_Count'];
['Indicadores Financeiros':'Score'] => ['Indicadores Financeiros':'Trend'];
['Indicadores Financeiros':'Score'] => ['Indicadores Financeiros':'Status'];
['Indicadores Financeiros':{'Actual', 'Target'}] => ['Indicadores Financeiros':'Variance'];
['Indicadores Financeiros':'Target'] => ['Indicadores Financeiros':'Score'];
#EndRegion
